<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="441px" preserveAspectRatio="none" style="width:601px;height:441px;background:#FFFFFF;" version="1.1" viewBox="0 0 601 441" width="601px" zoomAndPan="magnify"><defs/><g><!--class FileDescriptor--><g class="entity" data-entity="FileDescriptor" data-source-line="7" data-uid="ent0002" id="entity_FileDescriptor"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.3438" x="450.89" y="47.74"/><ellipse cx="465.89" cy="63.74" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M468.8588,69.3806 Q468.2806,69.6775 467.64,69.8181 Q466.9994,69.9744 466.2963,69.9744 Q463.7963,69.9744 462.4681,68.3338 Q461.1556,66.6775 461.1556,63.5525 Q461.1556,60.4275 462.4681,58.7713 Q463.7963,57.115 466.2963,57.115 Q466.9994,57.115 467.64,57.2713 Q468.2963,57.4275 468.8588,57.7244 L468.8588,60.4431 Q468.2338,59.865 467.64,59.5994 Q467.0463,59.3181 466.4213,59.3181 Q465.0775,59.3181 464.39,60.3963 Q463.7025,61.4588 463.7025,63.5525 Q463.7025,65.6463 464.39,66.7244 Q465.0775,67.7869 466.4213,67.7869 Q467.0463,67.7869 467.64,67.5213 Q468.2338,67.24 468.8588,66.6619 L468.8588,69.3806 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111.3438" x="479.89" y="68.5867">FileDescriptor</text><line style="stroke:#181818;stroke-width:0.5;" x1="451.89" x2="593.2338" y1="79.74" y2="79.74"/><line style="stroke:#181818;stroke-width:0.5;" x1="451.89" x2="593.2338" y1="87.74" y2="87.74"/></g><!--class LexemBuffer--><g class="entity" data-entity="LexemBuffer" data-source-line="9" data-uid="ent0003" id="entity_LexemBuffer"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180.0547" x="216.53" y="228.49"/><ellipse cx="252.818" cy="244.49" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M255.7867,250.1306 Q255.2086,250.4275 254.568,250.5681 Q253.9274,250.7244 253.2242,250.7244 Q250.7242,250.7244 249.3961,249.0837 Q248.0836,247.4275 248.0836,244.3025 Q248.0836,241.1775 249.3961,239.5212 Q250.7242,237.865 253.2242,237.865 Q253.9274,237.865 254.568,238.0212 Q255.2242,238.1775 255.7867,238.4744 L255.7867,241.1931 Q255.1617,240.615 254.568,240.3494 Q253.9742,240.0681 253.3492,240.0681 Q252.0055,240.0681 251.318,241.1462 Q250.6305,242.2087 250.6305,244.3025 Q250.6305,246.3962 251.318,247.4744 Q252.0055,248.5369 253.3492,248.5369 Q253.9742,248.5369 254.568,248.2712 Q255.1617,247.99 255.7867,247.4119 L255.7867,250.1306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="100.748" x="271.5487" y="249.3367">LexemBuffer</text><line style="stroke:#181818;stroke-width:0.5;" x1="217.53" x2="395.5847" y1="260.49" y2="260.49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.0547" x="222.53" y="277.4851">+Lexem[] lexemStream</text><line style="stroke:#181818;stroke-width:0.5;" x1="217.53" x2="395.5847" y1="284.7869" y2="284.7869"/></g><!--class CharacterBuffer--><g class="entity" data-entity="CharacterBuffer" data-source-line="14" data-uid="ent0005" id="entity_CharacterBuffer"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.6494" x="227.23" y="369.78"/><ellipse cx="242.23" cy="385.78" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M245.1988,391.4206 Q244.6206,391.7175 243.98,391.8581 Q243.3394,392.0144 242.6363,392.0144 Q240.1363,392.0144 238.8081,390.3738 Q237.4956,388.7175 237.4956,385.5925 Q237.4956,382.4675 238.8081,380.8113 Q240.1363,379.155 242.6363,379.155 Q243.3394,379.155 243.98,379.3113 Q244.6363,379.4675 245.1988,379.7644 L245.1988,382.4831 Q244.5738,381.905 243.98,381.6394 Q243.3863,381.3581 242.7613,381.3581 Q241.4175,381.3581 240.73,382.4363 Q240.0425,383.4988 240.0425,385.5925 Q240.0425,387.6863 240.73,388.7644 Q241.4175,389.8269 242.7613,389.8269 Q243.3863,389.8269 243.98,389.5613 Q244.5738,389.28 245.1988,388.7019 L245.1988,391.4206 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126.6494" x="256.23" y="390.6267">CharacterBuffer</text><line style="stroke:#181818;stroke-width:0.5;" x1="228.23" x2="384.8794" y1="401.78" y2="401.78"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.209" x="233.23" y="418.7751">+char[] chars</text><line style="stroke:#181818;stroke-width:0.5;" x1="228.23" x2="384.8794" y1="426.0769" y2="426.0769"/></g><!--class LexemStream--><g class="entity" data-entity="LexemStream" data-source-line="20" data-uid="ent0007" id="entity_LexemStream"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.1172" x="7" y="7"/><ellipse cx="34.7701" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M37.7388,28.6406 Q37.1607,28.9375 36.5201,29.0781 Q35.8794,29.2344 35.1763,29.2344 Q32.6763,29.2344 31.3482,27.5938 Q30.0357,25.9375 30.0357,22.8125 Q30.0357,19.6875 31.3482,18.0313 Q32.6763,16.375 35.1763,16.375 Q35.8794,16.375 36.5201,16.5313 Q37.1763,16.6875 37.7388,16.9844 L37.7388,19.7031 Q37.1138,19.125 36.5201,18.8594 Q35.9263,18.5781 35.3013,18.5781 Q33.9576,18.5781 33.2701,19.6563 Q32.5826,20.7188 32.5826,22.8125 Q32.5826,24.9063 33.2701,25.9844 Q33.9576,27.0469 35.3013,27.0469 Q35.9263,27.0469 36.5201,26.7813 Q37.1138,26.5 37.7388,25.9219 L37.7388,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.7393" x="51.6079" y="27.8467">LexemStream</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="175.1172" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.624" x="13" y="55.9951">+char* macroName</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1172" x="13" y="72.292">+InputType inputType</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.2354" x="13" y="88.5889">+char* begin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.9209" x="13" y="104.8857">+char* read</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.2842" x="13" y="121.1826">+char* write</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="175.1172" y1="128.4844" y2="128.4844"/></g><g class="entity" data-entity="GMN9" data-source-line="30" data-uid="ent0010" id="entity_GMN9"><path d="M211.1,51.61 L211.1,67.74 L176.54,71.74 L211.1,75.74 L211.1,91.8756 A0,0 0 0 0 211.1,91.8756 L416.017,91.8756 A0,0 0 0 0 416.017,91.8756 L416.017,61.61 L406.017,51.61 L211.1,51.61 A0,0 0 0 0 211.1,51.61" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M406.017,51.61 L406.017,61.61 L416.017,61.61 L406.017,51.61" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.8345" x="217.1" y="68.6769">Lightweight pointer-based</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.917" x="217.1" y="83.8097">stream for macro expansion</text></g><g class="entity" data-entity="GMN12" data-source-line="35" data-uid="ent0013" id="entity_GMN12"><path d="M432.03,240.5 L432.03,256.63 L396.85,260.63 L432.03,264.63 L432.03,280.7656 A0,0 0 0 0 432.03,280.7656 L583.0871,280.7656 A0,0 0 0 0 583.0871,280.7656 L583.0871,250.5 L573.0871,240.5 L432.03,240.5 A0,0 0 0 0 432.03,240.5" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M573.0871,240.5 L573.0871,250.5 L583.0871,250.5 L573.0871,240.5" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.0571" x="438.03" y="257.5669">Fixed-size buffer for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7808" x="438.03" y="272.6997">lexing from files</text></g><!--reverse link FileDescriptor to LexemBuffer--><g class="link" data-entity-1="FileDescriptor" data-entity-2="LexemBuffer" data-source-line="9" data-uid="lnk4" id="link_FileDescriptor_LexemBuffer"><path codeLine="9" d="M486.5639,103.8901 C447.9939,137.2501 386.01,190.89 342.84,228.24" fill="none" id="FileDescriptor-backto-LexemBuffer" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="495.64,96.04,488.4852,96.9397,486.5639,103.8901,493.7187,102.9904,495.64,96.04" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.6187" x="409.08" y="187.0569">lexemBuffer</text></g><!--reverse link LexemBuffer to CharacterBuffer--><g class="link" data-entity-1="LexemBuffer" data-entity-2="CharacterBuffer" data-source-line="14" data-uid="lnk6" id="link_LexemBuffer_CharacterBuffer"><path codeLine="14" d="M306.56,305.24 C306.56,328.04 306.56,346.68 306.56,369.45" fill="none" id="LexemBuffer-backto-CharacterBuffer" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="306.56,293.24,302.56,299.24,306.56,305.24,310.56,299.24,306.56,293.24" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.9873" x="307.56" y="335.8469">buffer</text></g><!--link LexemStream to LexemBuffer--><g class="link" data-entity-1="LexemStream" data-entity-2="LexemBuffer" data-source-line="27" data-uid="lnk8" id="link_LexemStream_LexemBuffer"><path codeLine="27" d="M165.25,136.8 C200.74,167.65 237.1814,199.334 265.8414,224.244" fill="none" id="LexemStream-to-LexemBuffer" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="270.37,228.18,266.2012,219.2569,266.5962,224.9,260.9532,225.295,270.37,228.18" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.9609" x="241.0428" y="179.5569">points into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.2866" x="231.88" y="194.6897">lexemStream</text></g><!--SRC=[RP9DJyCm38Rl-HM-JG9rZ2i793uqQTB4PN023cdYRX5jKYMkjZ7ntt7IZfHgfzQlNpssOyzWQMe4QJMKNLMX1or9GY3VAUey1Z63ju0QZ0NjLBYvNHJHaGrpoReGuSlOLdhPWAfb20z4tfGTuKevkp7V28kfPUaiRUZ8rKjNQo6IcDfvng2yQSbvE8aVCP5SKS0Q3zWyzWtVGPsZCsPiE0c0woIyV_RU3NcK3QF7jiXzsd5_Yj3_iSj_s6a-eHMBJ8wVmCnn1tsXRBk2HYhlNcI3KLhPjgFNOulylCDVTfQuDJQ73D8vsdj3U1vWg3AVtqyUfdN6Kc0ukGyxdbnOHmZUR7S4hXhtoYNMKTvZIYO2-gAKV0IS2tsfYlUG9W4yjD86uwn0lg68lGWVjWEytmFg8iIB60wEMQnpTyPkeVAEwRpma7c_]--></g></svg>